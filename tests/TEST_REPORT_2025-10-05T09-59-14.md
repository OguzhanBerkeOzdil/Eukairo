# üß™ Eukairo Algorithm Test Report

**Generated**: 05.10.2025 12:59:14

---

## Test Execution Log

```
üöÄ Starting Eukairo Algorithm Test Suite
üìÖ Timestamp: 2025-10-05T09:59:14.578Z

üß™ EUKAIRO ALGORITHM TEST SUITE

================================================================================

üìä TEST 1: Clear Winner Scenario
User has one protocol significantly better than others

üìà Results for Clear Winner:

Protocol Selection Distribution:
  ‚≠ê box-breathing             ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 151 (75.5%) [True: 0.80]
     physiological-sigh        ‚ñà‚ñà‚ñà‚ñà  21 (10.5%) [True: 0.20]
     alternate-nostril         ‚ñà‚ñà‚ñà  15 (7.5%) [True: 0.10]
     4-7-8-breathing           ‚ñà‚ñà  11 (5.5%) [True: 0.10]
     eye-break                    2 (1.0%) [True: -0.20]

Learned Model Scores (EMA):
  ‚úì box-breathing             EMA: 1.000 | Avg: 1.000 | True: 0.800 | Trials: 151
  ‚úì physiological-sigh        EMA: 0.041 | Avg: 0.095 | True: 0.200 | Trials: 21
  ‚úì 4-7-8-breathing           EMA: 0.000 | Avg: 0.000 | True: 0.100 | Trials: 11
  ‚úì alternate-nostril         EMA: 0.000 | Avg: 0.000 | True: 0.100 | Trials: 15
  ‚úó eye-break                 EMA: -1.000 | Avg: -1.000 | True: -0.200 | Trials: 2

Performance Metrics:
  Total Reward:        127.20
  Average Reward:      0.636
  Total Regret:        32.80
  Average Regret:      0.164
  First Best Found:    Session 1
  Convergence Rate:    80.0% (last 50 sessions on best)

  üìä Algorithm Grade: B

================================================================================

üìä TEST 2: Close Competition
Two protocols nearly equal, algorithm must discriminate

üìà Results for Close Competition:

Protocol Selection Distribution:
     physiological-sigh        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 161 (80.5%) [True: 0.58]
  ‚≠ê box-breathing             ‚ñà‚ñà‚ñà‚ñà  22 (11.0%) [True: 0.60]
     alternate-nostril         ‚ñà   7 (3.5%) [True: 0.15]
     4-7-8-breathing           ‚ñà   6 (3.0%) [True: 0.10]
     eye-break                    4 (2.0%) [True: -0.10]

Learned Model Scores (EMA):
  ‚úó physiological-sigh        EMA: 1.000 | Avg: 1.000 | True: 0.580 | Trials: 161
  ‚úó box-breathing             EMA: 1.000 | Avg: 1.000 | True: 0.600 | Trials: 22
  ‚úì 4-7-8-breathing           EMA: 0.000 | Avg: 0.000 | True: 0.100 | Trials: 6
  ‚úì alternate-nostril         EMA: 0.000 | Avg: 0.000 | True: 0.150 | Trials: 7
  ~ eye-break                 EMA: -0.400 | Avg: -0.250 | True: -0.100 | Trials: 4

Performance Metrics:
  Total Reward:        107.83
  Average Reward:      0.539
  Total Regret:        12.17
  Average Regret:      0.061
  First Best Found:    Session 1
  Convergence Rate:    0.0% (last 50 sessions on best)

  üìä Algorithm Grade: F

================================================================================

üìä TEST 3: Time-of-Day Variation
User effectiveness varies by hour (morning vs evening)

üìà Results for Time Dependent:

Protocol Selection Distribution:
  ‚≠ê 4-7-8-breathing           ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 368 (92.0%) [True: 0.60]
     box-breathing             ‚ñà‚ñà‚ñà‚ñà  24 (6.0%) [True: 0.50]
     physiological-sigh           4 (1.0%) [True: -0.50]
     alternate-nostril            2 (0.5%) [True: -0.50]
     eye-break                    2 (0.5%) [True: -0.50]

Learned Model Scores (EMA):
  ‚úó box-breathing             EMA: 1.000 | Avg: 1.000 | True: 0.500 | Trials: 24
  ‚úó 4-7-8-breathing           EMA: 1.000 | Avg: 1.000 | True: 0.600 | Trials: 368
  ‚úó physiological-sigh        EMA: -1.000 | Avg: -1.000 | True: -0.500 | Trials: 4
  ‚úó eye-break                 EMA: -1.000 | Avg: -1.000 | True: -0.500 | Trials: 2
  ‚úó alternate-nostril         EMA: -1.000 | Avg: -1.000 | True: -0.500 | Trials: 2

üí° Contextual Learning: Algorithm should pick box-breathing in morning, 4-7-8-breathing in evening

Performance Metrics:
  Total Reward:        257.45
  Average Reward:      0.644
  Total Regret:        -17.45
  Average Regret:      -0.044
  First Best Found:    Session 5
  Convergence Rate:    48.0% (last 50 sessions on best)

  üìä Algorithm Grade: D

================================================================================

üìä TEST 4: High Noise User
User gives inconsistent ratings (high variability)

üìà Results for Noisy User:

Protocol Selection Distribution:
  ‚≠ê box-breathing             ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  63 (31.5%) [True: 0.40]
     alternate-nostril         ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  60 (30.0%) [True: 0.28]
     4-7-8-breathing           ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  54 (27.0%) [True: 0.35]
     physiological-sigh        ‚ñà‚ñà‚ñà  17 (8.5%) [True: 0.30]
     eye-break                 ‚ñà   6 (3.0%) [True: 0.20]

Learned Model Scores (EMA):
  ~ 4-7-8-breathing           EMA: 0.584 | Avg: 0.574 | True: 0.350 | Trials: 54
  ‚úì box-breathing             EMA: 0.523 | Avg: 0.429 | True: 0.400 | Trials: 63
  ~ eye-break                 EMA: 0.457 | Avg: 0.167 | True: 0.200 | Trials: 6
  ~ alternate-nostril         EMA: 0.054 | Avg: 0.383 | True: 0.280 | Trials: 60
  ~ physiological-sigh        EMA: 0.040 | Avg: 0.176 | True: 0.300 | Trials: 17

Performance Metrics:
  Total Reward:        67.20
  Average Reward:      0.336
  Total Regret:        12.80
  Average Regret:      0.064
  First Best Found:    Session 2
  Convergence Rate:    8.0% (last 50 sessions on best)

  üìä Algorithm Grade: F

================================================================================

üìä TEST 5: Drift Detection
User preferences change halfway through (test EMA adaptation)

   üîÑ [Session 100] Preferences changed! Box: 0.7 ‚Üí -0.2, Physio Sigh: 0.2 ‚Üí 0.7
üìà Results for Drift User:

Protocol Selection Distribution:
  ‚≠ê physiological-sigh        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  86 (43.0%) [True: 0.20]
     box-breathing             ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  85 (42.5%) [True: 0.70]
     alternate-nostril         ‚ñà‚ñà‚ñà  15 (7.5%) [True: 0.12]
     4-7-8-breathing           ‚ñà‚ñà  10 (5.0%) [True: 0.10]
     eye-break                    4 (2.0%) [True: 0.00]

Learned Model Scores (EMA):
  ‚úó physiological-sigh        EMA: 1.000 | Avg: 0.884 | True: 0.200 | Trials: 86
  ‚úì 4-7-8-breathing           EMA: 0.000 | Avg: 0.000 | True: 0.100 | Trials: 10
  ‚úì alternate-nostril         EMA: 0.000 | Avg: 0.000 | True: 0.120 | Trials: 15
  ‚úó eye-break                 EMA: -0.512 | Avg: -0.250 | True: 0.000 | Trials: 4
  ‚úó box-breathing             EMA: -0.774 | Avg: 0.682 | True: 0.700 | Trials: 85

Performance Metrics:
  Total Reward:        101.10
  Average Reward:      0.506
  Total Regret:        38.90
  Average Regret:      0.194
  First Best Found:    Session 2
  Convergence Rate:    94.0% (last 50 sessions on best)

  üìä Algorithm Grade: B

================================================================================

üìä TEST 6: Flat Landscape
All protocols similar effectiveness (hard to optimize)

üìà Results for Flat User:

Protocol Selection Distribution:
  ‚≠ê alternate-nostril         ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 125 (62.5%) [True: 0.33]
     box-breathing             ‚ñà‚ñà‚ñà‚ñà‚ñà  25 (12.5%) [True: 0.30]
     4-7-8-breathing           ‚ñà‚ñà‚ñà‚ñà  21 (10.5%) [True: 0.32]
     eye-break                 ‚ñà‚ñà‚ñà  15 (7.5%) [True: 0.29]
     physiological-sigh        ‚ñà‚ñà  14 (7.0%) [True: 0.28]

Learned Model Scores (EMA):
  ~ alternate-nostril         EMA: 0.678 | Avg: 0.560 | True: 0.330 | Trials: 125
  ~ 4-7-8-breathing           EMA: 0.601 | Avg: 0.619 | True: 0.320 | Trials: 21
  ~ eye-break                 EMA: 0.490 | Avg: 0.533 | True: 0.290 | Trials: 15
  ‚úì physiological-sigh        EMA: 0.467 | Avg: 0.357 | True: 0.280 | Trials: 14
  ‚úì box-breathing             EMA: 0.453 | Avg: 0.400 | True: 0.300 | Trials: 25

Performance Metrics:
  Total Reward:        63.74
  Average Reward:      0.319
  Total Regret:        2.26
  Average Regret:      0.011
  First Best Found:    Session 3
  Convergence Rate:    80.0% (last 50 sessions on best)

  üéØ Flat Landscape Detected: All protocols within 5.0% range
     Grading by regret (0.011) instead of convergence

  üìä Algorithm Grade: A+

================================================================================

üìã SUMMARY & RECOMMENDATIONS

üîç Analysis Across All Tests:

Average Convergence Rate: 59.7%

üí° RECOMMENDATIONS:

üîß POTENTIAL IMPROVEMENTS:

1. **Thompson Sampling**
   - Could improve performance in close competitions
   - Better uncertainty quantification

2. **Context-Aware Rewards**
   - Currently basic hour-of-day multiplier
   - Could add day-of-week, stress level, sleep quality

3. **Adaptive Œµ Decay**
   - Current: Œµ = 0.3 * exp(-sessions/50)
   - Could make decay rate user-specific based on consistency

4. **Multi-Armed Bandit Variants**
   - UCB already implemented (exploration bonus)
   - Could try UCB1-Tuned or Bayes-UCB

5. **Cold Start Optimization**
   - First 10-20 sessions could use structured exploration
   - E.g., force-try each protocol 2-3 times before UCB kicks in

6. **Regret Minimization**
   - Track cumulative regret as success metric
   - Alert user when consistently selecting suboptimal

üéØ INNOVATION IDEAS:

1. **Protocol Combinations**
   - Test 2-protocol sequences (e.g., Box + Physiological Sigh)
   - Combinatorial optimization challenge

2. **Personalized MED Learning Rate**
   - Current: ¬±10s/15s/20s adaptive step
   - Could learn optimal step size per user

3. **Contextual Bandits with Neural Nets**
   - Use lightweight on-device model for context‚Üíreward prediction
   - Would require TensorFlow.js or similar

4. **A/B Test Against Baselines**
   - Compare against: Random, Round-robin, Pure greedy
   - Quantify improvement over naive strategies

5. **Causal Inference**
   - Distinguish correlation from causation
   - E.g., "Is Box better, or just happens at better times?"

================================================================================
```

---

## Quick Summary

This test suite validates the Eukairo recommendation algorithm across 6 scenarios:

1. **Clear Winner** - One protocol significantly better
2. **Close Competition** - Two protocols nearly equal
3. **Time-of-Day Variation** - Effectiveness varies by hour
4. **High Noise User** - Inconsistent ratings
5. **Drift Detection** - Preferences change mid-test
6. **Flat Landscape** - All protocols similar

### Key Metrics Tracked

- **Selection Distribution**: How often each protocol was chosen
- **Learned Scores**: EMA vs actual true scores
- **Convergence Rate**: % of last 50 sessions on best protocol
- **Total Regret**: Cumulative missed reward
- **First Best Found**: Session number when best protocol discovered

### Algorithm Components Tested

‚úÖ Œµ-greedy exploration (adaptive decay)
‚úÖ EMA for recency weighting (Œ±=0.2)
‚úÖ UCB exploration bonus
‚úÖ Adaptive MED step size (10s/15s/20s)
‚úÖ Contextual scoring (hour-of-day)

---

## How to Interpret Results

**Grade A/A+**: Algorithm converges >70% to best protocol, low regret
**Grade B**: Good convergence (60-70%), moderate regret
**Grade C/D**: Slower convergence, higher regret
**Grade F**: Failed to identify best protocol

**Convergence Rate**: Target is >70% in last 50 sessions
**Average Regret**: Target is <0.15 per session

---

## Next Steps

Review recommendations section for algorithm improvements and innovation ideas.

Consider implementing:
- Thompson Sampling for better uncertainty quantification
- Enhanced contextual features (day-of-week, user state)
- Structured cold-start exploration
- Protocol combination testing

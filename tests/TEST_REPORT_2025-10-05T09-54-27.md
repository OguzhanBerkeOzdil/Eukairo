# ğŸ§ª Eukairo Algorithm Test Report

**Generated**: 05.10.2025 12:54:27

---

## Test Execution Log

```
ğŸš€ Starting Eukairo Algorithm Test Suite
ğŸ“… Timestamp: 2025-10-05T09:54:27.395Z

ğŸ§ª EUKAIRO ALGORITHM TEST SUITE

================================================================================

ğŸ“Š TEST 1: Clear Winner Scenario
User has one protocol significantly better than others

ğŸ“ˆ Results for Clear Winner:

Protocol Selection Distribution:
  â­ box-breathing             â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 169 (84.5%) [True: 0.80]
     4-7-8-breathing           â–ˆâ–ˆ  11 (5.5%) [True: 0.10]
     alternate-nostril         â–ˆâ–ˆ  11 (5.5%) [True: 0.10]
     physiological-sigh        â–ˆ   7 (3.5%) [True: 0.20]
     eye-break                    2 (1.0%) [True: -0.20]

Learned Model Scores (EMA):
  âœ“ box-breathing             EMA: 1.000 | Avg: 1.000 | True: 0.800 | Trials: 169
  âœ“ physiological-sigh        EMA: 0.191 | Avg: 0.143 | True: 0.200 | Trials: 7
  âœ“ 4-7-8-breathing           EMA: 0.000 | Avg: 0.000 | True: 0.100 | Trials: 11
  âœ“ alternate-nostril         EMA: 0.000 | Avg: 0.000 | True: 0.100 | Trials: 11
  âœ— eye-break                 EMA: -1.000 | Avg: -1.000 | True: -0.200 | Trials: 2

Performance Metrics:
  Total Reward:        138.40
  Average Reward:      0.692
  Total Regret:        21.60
  Average Regret:      0.108
  First Best Found:    Session 2
  Convergence Rate:    88.0% (last 50 sessions on best)

  ğŸ“Š Algorithm Grade: A

================================================================================

ğŸ“Š TEST 2: Close Competition
Two protocols nearly equal, algorithm must discriminate

ğŸ“ˆ Results for Close Competition:

Protocol Selection Distribution:
  â­ box-breathing             â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 165 (82.5%) [True: 0.60]
     physiological-sigh        â–ˆâ–ˆâ–ˆâ–ˆ  20 (10.0%) [True: 0.58]
     4-7-8-breathing           â–ˆ   7 (3.5%) [True: 0.10]
     alternate-nostril         â–ˆ   5 (2.5%) [True: 0.15]
     eye-break                    3 (1.5%) [True: -0.10]

Learned Model Scores (EMA):
  âœ— physiological-sigh        EMA: 1.000 | Avg: 1.000 | True: 0.580 | Trials: 20
  âœ— box-breathing             EMA: 1.000 | Avg: 1.000 | True: 0.600 | Trials: 165
  âœ“ 4-7-8-breathing           EMA: 0.000 | Avg: 0.000 | True: 0.100 | Trials: 7
  âœ“ alternate-nostril         EMA: 0.000 | Avg: 0.000 | True: 0.150 | Trials: 5
  ~ eye-break                 EMA: -0.467 | Avg: -0.333 | True: -0.100 | Trials: 3

Performance Metrics:
  Total Reward:        111.75
  Average Reward:      0.559
  Total Regret:        8.25
  Average Regret:      0.041
  First Best Found:    Session 5
  Convergence Rate:    100.0% (last 50 sessions on best)

  ğŸ“Š Algorithm Grade: A+

================================================================================

ğŸ“Š TEST 3: Time-of-Day Variation
User effectiveness varies by hour (morning vs evening)

ğŸ“ˆ Results for Time Dependent:

Protocol Selection Distribution:
  â­ 4-7-8-breathing           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 368 (92.0%) [True: 0.60]
     box-breathing             â–ˆâ–ˆâ–ˆâ–ˆ  20 (5.0%) [True: 0.50]
     eye-break                 â–ˆ   7 (1.8%) [True: -0.50]
     physiological-sigh           3 (0.8%) [True: -0.50]
     alternate-nostril            2 (0.5%) [True: -0.50]

Learned Model Scores (EMA):
  âœ— box-breathing             EMA: 1.000 | Avg: 1.000 | True: 0.500 | Trials: 20
  âœ— 4-7-8-breathing           EMA: 1.000 | Avg: 1.000 | True: 0.600 | Trials: 368
  âœ— physiological-sigh        EMA: -1.000 | Avg: -1.000 | True: -0.500 | Trials: 3
  âœ— eye-break                 EMA: -1.000 | Avg: -1.000 | True: -0.500 | Trials: 7
  âœ— alternate-nostril         EMA: -1.000 | Avg: -1.000 | True: -0.500 | Trials: 2

ğŸ’¡ Contextual Learning: Algorithm should pick box-breathing in morning, 4-7-8-breathing in evening

Performance Metrics:
  Total Reward:        252.70
  Average Reward:      0.632
  Total Regret:        -12.70
  Average Regret:      -0.032
  First Best Found:    Session 1
  Convergence Rate:    48.0% (last 50 sessions on best)

  ğŸ“Š Algorithm Grade: D

================================================================================

ğŸ“Š TEST 4: High Noise User
User gives inconsistent ratings (high variability)

ğŸ“ˆ Results for Noisy User:

Protocol Selection Distribution:
  â­ box-breathing             â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 136 (68.0%) [True: 0.40]
     alternate-nostril         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  31 (15.5%) [True: 0.28]
     4-7-8-breathing           â–ˆâ–ˆâ–ˆ  19 (9.5%) [True: 0.35]
     physiological-sigh        â–ˆâ–ˆ  10 (5.0%) [True: 0.30]
     eye-break                    4 (2.0%) [True: 0.20]

Learned Model Scores (EMA):
  âœ“ physiological-sigh        EMA: 0.436 | Avg: 0.400 | True: 0.300 | Trials: 10
  âœ“ box-breathing             EMA: 0.401 | Avg: 0.566 | True: 0.400 | Trials: 136
  âœ“ alternate-nostril         EMA: 0.395 | Avg: 0.613 | True: 0.280 | Trials: 31
  âœ“ eye-break                 EMA: 0.184 | Avg: -0.250 | True: 0.200 | Trials: 4
  âœ“ 4-7-8-breathing           EMA: 0.176 | Avg: 0.474 | True: 0.350 | Trials: 19

Performance Metrics:
  Total Reward:        73.53
  Average Reward:      0.368
  Total Regret:        6.47
  Average Regret:      0.032
  First Best Found:    Session 3
  Convergence Rate:    96.0% (last 50 sessions on best)

  ğŸ“Š Algorithm Grade: A+

================================================================================

ğŸ“Š TEST 5: Drift Detection
User preferences change halfway through (test EMA adaptation)

   ğŸ”„ [Session 100] Preferences changed! Box: 0.7 â†’ -0.2, Physio Sigh: 0.2 â†’ 0.7
ğŸ“ˆ Results for Drift User:

Protocol Selection Distribution:
  â­ physiological-sigh        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  88 (44.0%) [True: 0.20]
     box-breathing             â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  76 (38.0%) [True: 0.70]
     alternate-nostril         â–ˆâ–ˆâ–ˆâ–ˆ  20 (10.0%) [True: 0.12]
     4-7-8-breathing           â–ˆâ–ˆ  13 (6.5%) [True: 0.10]
     eye-break                    3 (1.5%) [True: 0.00]

Learned Model Scores (EMA):
  âœ— physiological-sigh        EMA: 1.000 | Avg: 0.852 | True: 0.200 | Trials: 88
  âœ“ alternate-nostril         EMA: 0.015 | Avg: 0.050 | True: 0.120 | Trials: 20
  âœ“ 4-7-8-breathing           EMA: 0.000 | Avg: 0.000 | True: 0.100 | Trials: 13
  âœ— eye-break                 EMA: -0.480 | Avg: -0.333 | True: 0.000 | Trials: 3
  âœ— box-breathing             EMA: -0.841 | Avg: 0.697 | True: 0.700 | Trials: 76

Performance Metrics:
  Total Reward:        100.20
  Average Reward:      0.501
  Total Regret:        39.80
  Average Regret:      0.199
  First Best Found:    Session 5
  Convergence Rate:    90.0% (last 50 sessions on best)

  ğŸ“Š Algorithm Grade: B

================================================================================

ğŸ“Š TEST 6: Flat Landscape
All protocols similar effectiveness (hard to optimize)

ğŸ“ˆ Results for Flat User:

Protocol Selection Distribution:
     4-7-8-breathing           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 124 (62.0%) [True: 0.32]
     box-breathing             â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  27 (13.5%) [True: 0.30]
     eye-break                 â–ˆâ–ˆâ–ˆâ–ˆ  20 (10.0%) [True: 0.29]
  â­ alternate-nostril         â–ˆâ–ˆâ–ˆ  19 (9.5%) [True: 0.33]
     physiological-sigh        â–ˆâ–ˆ  10 (5.0%) [True: 0.28]

Learned Model Scores (EMA):
  ~ alternate-nostril         EMA: 0.655 | Avg: 0.526 | True: 0.330 | Trials: 19
  âœ“ box-breathing             EMA: 0.475 | Avg: 0.519 | True: 0.300 | Trials: 27
  âœ“ eye-break                 EMA: 0.420 | Avg: 0.600 | True: 0.290 | Trials: 20
  âœ“ 4-7-8-breathing           EMA: 0.356 | Avg: 0.621 | True: 0.320 | Trials: 124
  âœ“ physiological-sigh        EMA: 0.101 | Avg: 0.100 | True: 0.280 | Trials: 10

Performance Metrics:
  Total Reward:        62.65
  Average Reward:      0.313
  Total Regret:        3.35
  Average Regret:      0.017
  First Best Found:    Session 4
  Convergence Rate:    6.0% (last 50 sessions on best)

  ğŸ¯ Flat Landscape Detected: All protocols within 5.0% range
     Grading by regret (0.017) instead of convergence

  ğŸ“Š Algorithm Grade: A+

================================================================================

ğŸ“‹ SUMMARY & RECOMMENDATIONS

ğŸ” Analysis Across All Tests:

Average Convergence Rate: 79.3%

ğŸ’¡ RECOMMENDATIONS:

âœ… STRENGTHS:
   - Algorithm converges well on clear winners
   - EMA helps adapt to changing preferences
   - Îµ-greedy balances exploration/exploitation

ğŸ”§ POTENTIAL IMPROVEMENTS:

1. **Thompson Sampling**
   - Could improve performance in close competitions
   - Better uncertainty quantification

2. **Context-Aware Rewards**
   - Currently basic hour-of-day multiplier
   - Could add day-of-week, stress level, sleep quality

3. **Adaptive Îµ Decay**
   - Current: Îµ = 0.3 * exp(-sessions/50)
   - Could make decay rate user-specific based on consistency

4. **Multi-Armed Bandit Variants**
   - UCB already implemented (exploration bonus)
   - Could try UCB1-Tuned or Bayes-UCB

5. **Cold Start Optimization**
   - First 10-20 sessions could use structured exploration
   - E.g., force-try each protocol 2-3 times before UCB kicks in

6. **Regret Minimization**
   - Track cumulative regret as success metric
   - Alert user when consistently selecting suboptimal

ğŸ¯ INNOVATION IDEAS:

1. **Protocol Combinations**
   - Test 2-protocol sequences (e.g., Box + Physiological Sigh)
   - Combinatorial optimization challenge

2. **Personalized MED Learning Rate**
   - Current: Â±10s/15s/20s adaptive step
   - Could learn optimal step size per user

3. **Contextual Bandits with Neural Nets**
   - Use lightweight on-device model for contextâ†’reward prediction
   - Would require TensorFlow.js or similar

4. **A/B Test Against Baselines**
   - Compare against: Random, Round-robin, Pure greedy
   - Quantify improvement over naive strategies

5. **Causal Inference**
   - Distinguish correlation from causation
   - E.g., "Is Box better, or just happens at better times?"

================================================================================
```

---

## Quick Summary

This test suite validates the Eukairo recommendation algorithm across 6 scenarios:

1. **Clear Winner** - One protocol significantly better
2. **Close Competition** - Two protocols nearly equal
3. **Time-of-Day Variation** - Effectiveness varies by hour
4. **High Noise User** - Inconsistent ratings
5. **Drift Detection** - Preferences change mid-test
6. **Flat Landscape** - All protocols similar

### Key Metrics Tracked

- **Selection Distribution**: How often each protocol was chosen
- **Learned Scores**: EMA vs actual true scores
- **Convergence Rate**: % of last 50 sessions on best protocol
- **Total Regret**: Cumulative missed reward
- **First Best Found**: Session number when best protocol discovered

### Algorithm Components Tested

âœ… Îµ-greedy exploration (adaptive decay)
âœ… EMA for recency weighting (Î±=0.2)
âœ… UCB exploration bonus
âœ… Adaptive MED step size (10s/15s/20s)
âœ… Contextual scoring (hour-of-day)

---

## How to Interpret Results

**Grade A/A+**: Algorithm converges >70% to best protocol, low regret
**Grade B**: Good convergence (60-70%), moderate regret
**Grade C/D**: Slower convergence, higher regret
**Grade F**: Failed to identify best protocol

**Convergence Rate**: Target is >70% in last 50 sessions
**Average Regret**: Target is <0.15 per session

---

## Next Steps

Review recommendations section for algorithm improvements and innovation ideas.

Consider implementing:
- Thompson Sampling for better uncertainty quantification
- Enhanced contextual features (day-of-week, user state)
- Structured cold-start exploration
- Protocol combination testing
